<!-- STANDARD NAVIGATION TEMPLATE FOR ALL CONTRACO PAGES -->
<!-- This template includes proper logo fallback handling -->

<!-- Navigation CSS (Add to your <style> section) -->
<style>
    /* Navigation */
    .navbar {
        position: fixed;
        top: 0;
        width: 100%;
        background: rgba(248, 246, 243, 0.95);
        backdrop-filter: blur(10px);
        z-index: 1000;
        padding: 12px 0;
        transition: all 0.3s ease;
    }

    .nav-container {
        position: relative;
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: var(--container-max);
        margin: 0 auto;
        padding: 0 40px;
    }

    .logo {
        margin-left: 60px;
        display: flex;
        align-items: center;
        text-decoration: none;
    }

    .logo img {
        height: 36px;
        width: auto;
        transition: transform 0.3s ease;
    }

    .logo:hover img {
        transform: scale(1.05);
    }

    /* Logo Fallback Styling */
    .logo-fallback {
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--primary-red);
        letter-spacing: -0.02em;
        font-family: var(--font-serif, Georgia, serif);
        transition: all 0.3s ease;
        display: none; /* Hidden by default */
    }

    .logo:hover .logo-fallback {
        transform: scale(1.05);
    }

    /* When logo fails to load */
    .logo.logo-failed img {
        display: none;
    }

    .logo.logo-failed .logo-fallback {
        display: block;
    }

    .nav-menu {
        margin-right: 60px;
        display: flex;
        list-style: none;
        gap: 35px;
    }

    .nav-link {
        text-decoration: none;
        color: var(--deep-charcoal);
        font-weight: 500;
        font-size: 0.95rem;
        transition: color 0.3s ease;
        position: relative;
    }

    .nav-link:hover {
        color: var(--primary-red);
    }

    .nav-link::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: -5px;
        left: 0;
        background-color: var(--primary-red);
        transition: width 0.3s ease;
    }

    .nav-link:hover::after {
        width: 100%;
    }

    /* Active state for current page */
    .nav-link.active {
        color: var(--primary-red);
    }

    .nav-link.active::after {
        width: 100%;
    }

    /* Mobile responsiveness */
    @media (max-width: 768px) {
        .nav-menu {
            display: none;
        }
        
        .nav-container {
            padding: 0 20px;
        }
        
        .logo {
            margin-left: 20px;
        }
    }
</style>

<!-- NAVIGATION HTML STRUCTURE -->
<nav class="navbar">
    <div class="nav-container">
        <a href="https://www.contraco.net/" class="logo" id="site-logo">
            <img src="https://contraco.net/Logo_rectangle.svg" 
                 alt="contraco" 
                 onerror="this.parentElement.classList.add('logo-failed');">
            <span class="logo-fallback">contraco</span>
        </a>
        <ul class="nav-menu">
            <li><a href="https://www.contraco.net/" class="nav-link">Home</a></li>
            <li><a href="https://www.contraco.net/#services" class="nav-link">Services</a></li>
            <li><a href="https://www.contraco.net/#methodology" class="nav-link">Methodology</a></li>
            <li><a href="https://www.contraco.net/contraco_insights.html" class="nav-link">Insights</a></li>
            <li><a href="https://www.contraco.net/contraco_about.html" class="nav-link">About</a></li>
            <li><a href="https://www.contraco.net/#contact" class="nav-link">Contact</a></li>
        </ul>
    </div>
</nav>

<!-- NAVIGATION JAVASCRIPT (Add before closing </body> tag) -->
<script>
    // Enhanced logo fallback with retry mechanism
    (function() {
        const logo = document.getElementById('site-logo');
        const logoImg = logo.querySelector('img');
        let retryCount = 0;
        const maxRetries = 2;
        
        // Function to handle logo load errors
        function handleLogoError() {
            if (retryCount < maxRetries) {
                retryCount++;
                setTimeout(() => {
                    logoImg.src = 'https://contraco.net/Logo_rectangle.svg';
                }, 1000 * retryCount); // Exponential backoff
            } else {
                logo.classList.add('logo-failed');
            }
        }
        
        // Check if logo loads successfully
        if (logoImg.complete && logoImg.naturalHeight === 0) {
            handleLogoError();
        }
        
        logoImg.addEventListener('error', handleLogoError);
        
        // Optional: Add loading state
        logoImg.addEventListener('load', function() {
            logo.classList.remove('logo-failed');
        });
    })();

    // Navbar scroll effect
    window.addEventListener('scroll', function() {
        const navbar = document.querySelector('.navbar');
        if (window.scrollY > 50) {
            navbar.style.background = 'rgba(248, 246, 243, 0.98)';
            navbar.style.boxShadow = '0 2px 20px rgba(0, 0, 0, 0.1)';
        } else {
            navbar.style.background = 'rgba(248, 246, 243, 0.95)';
            navbar.style.boxShadow = 'none';
        }
    });

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Mark active page in navigation
    (function() {
        const currentPath = window.location.pathname;
        const navLinks = document.querySelectorAll('.nav-link');
        
        navLinks.forEach(link => {
            const linkPath = new URL(link.href).pathname;
            if (currentPath === linkPath || 
                (currentPath === '/' && linkPath === '/index.html') ||
                (currentPath === '/index.html' && linkPath === '/')) {
                link.classList.add('active');
            }
        });
    })();
</script>

<!-- USAGE NOTES:
1. This template provides a complete navigation solution with logo fallback
2. The logo will attempt to load 2 times before showing fallback text
3. The fallback text "contraco" will display in the brand color if the logo fails
4. Navigation includes active state handling for the current page
5. Fully responsive with mobile menu hidden on small screens
6. Includes smooth scrolling for anchor links
7. Navbar becomes more opaque when scrolling

TO IMPLEMENT:
1. Copy the CSS into your <style> section
2. Replace your existing <nav> with the HTML structure above
3. Add the JavaScript before your closing </body> tag
4. Ensure your CSS variables are defined:
   --primary-red: #e62d00;
   --deep-charcoal: #2C2C2C;
   --container-max: 1200px;
   --font-serif: Georgia, 'Times New Roman', serif; (or your preferred serif font)
-->